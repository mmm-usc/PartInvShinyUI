% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/item_deletion_h.R
\name{item_deletion_h}
\alias{item_deletion_h}
\title{Impact of deleting biased item(s) on classification accuracy indices}
\usage{
item_deletion_h(
  propsel = NULL,
  cut_z = NULL,
  weights_item,
  weights_latent,
  alpha_r,
  alpha_f = alpha_r,
  psi_r,
  psi_f = psi_r,
  lambda_r,
  lambda_f = lambda_r,
  nu_r,
  nu_f = nu_r,
  Theta_r,
  Theta_f = Theta_r,
  pmix_ref = 0.5,
  plot_contour = TRUE,
  show_mi_result = TRUE,
  labels = c("Reference", "Focal"),
  n_dim = 1,
  n_i_per_dim = NULL,
  print_formatted = TRUE,
  user_specified_items = NULL,
  delete_one_cutoff = NULL,
  ...
)
}
\arguments{
\item{propsel}{Proportion of selection. If missing, computed using \code{cut_z}.}

\item{cut_z}{Pre-specified cutoff score on the observed composite. This
argument is ignored when \code{propsel} has an input.}

\item{weights_item}{A vector of item weights.}

\item{weights_latent}{A  vector of latent factor weights.}

\item{alpha_r}{A vector of latent factor mean for the reference group.}

\item{alpha_f}{(optional) A vector of latent factor mean for the focal
group; if no input, set equal to \code{alpha_r}.}

\item{psi_r}{A matrix of latent factor variance covariances for the reference
group.}

\item{psi_f}{(optional) A matrix of latent factor variance-covariances for
the focal group; if no input, set equal to \code{psi_r}.}

\item{lambda_r}{A matrix of factor loadings for the reference group.}

\item{lambda_f}{(optional) A matrix of factor loadings for the focal group;
if no input, set equal to \code{lambda_r}.}

\item{nu_r}{A matrix of measurement intercepts for the reference group
under the partial invariance condition.}

\item{nu_f}{(optional) A matrix of measurement intercepts for the focal
group; if no input, set equal to \code{nu_r}.}

\item{Theta_r}{A matrix of the unique factor variances and covariances
for the reference group.}

\item{Theta_f}{(optional) A matrix of the unique factor variances and
covariances for the focal group; if no input, set equal to \code{Theta_r}.}

\item{pmix_ref}{Proportion of the reference group; default to 0.5 (i.e., two
populations have equal size).}

\item{plot_contour}{Logical; whether the contour of the two populations
should be plotted; default to \code{TRUE}.}

\item{show_mi_result}{If \code{TRUE}, perform classification accuracy analysis
for both the input parameters and the implied parameters based on a
strict invariance model, with common parameter values as weighted
averages of the input values using \code{pmix_ref}.}

\item{labels}{A character vector with two elements to label the reference
and the focal group on the graph.}

\item{n_dim}{Number of dimensions, 1 by default. If the user does not supply
a different value, proceeds with the assumption that the scale is
unidimensional.}

\item{n_i_per_dim}{A vector containing the number of items in each
dimension; \code{NULL} by default. If the user provides a value for \code{n_dim}
that is \eqn{> 1} but leaves \code{n_i_per_dim = NULL}, assumes that
the subscales have an equal number of items.}

\item{print_formatted}{Logical; default to \code{TRUE}. By default, prints five
formatted summary tables for biased (or user-specified) items: \code{ACAI},
\verb{h ACAI (deletion)}, \verb{AI Ratio}, \verb{h CAI Ref-EF}, and
\verb{delta h CAI Ref-EF (deletion)}. The formatted print output is separate
from the returned object. The function always returns an object with
detailed elements that can be accessed if the function output is stored
in a variable. If \code{print_formatted==FALSE}, all elements in the
returned object are printed without formatting.}

\item{user_specified_items}{A vector; default to \code{NULL}. If the user does not
input a vector of items, only the items determined to contain bias will
be considered for deletion.}

\item{delete_one_cutoff}{(optional) User-specified cutoff to use in
delete-one scenarios. \code{NULL} by default; if \code{NULL}, proportion
selected under SFI and PFI when the full item set is used is passed
onto calls to PartInv.}

\item{...}{Other arguments passed to the \code{\link[graphics]{contour}}
function.}
}
\value{
An object of class \code{itemdeletion} containing 13 elements.
\item{ACAI}{A matrix that stores aggregate PS, SR, SE, SP computed for
the full set of items and item subsets excluding biased or user specified
items under PFI.}
\item{h ACAI (deletion)}{A matrix that stores Cohen's h computed for
the impact of deleting each item considered in the \code{ACAI} table.}
\item{h ACAI SFI-PFI}{A matrix that stores Cohen's h values
quantifying the discrepancy between ACAI under SFI vs. ACAI under PFI.}
\item{delta h ACAI SFI-PFI (deletion)}{A matrix that stores delta h
values quantifying the impact of deleting an item on the discrepancy
between ACAI under SFI vs. ACAI under PFI for subsets of items.}
\item{AI Ratio}{A matrix storing Adverse Impact Ratio values computed
for item subsets by invariance condition.}
\item{h CAI Ref-EF}{A matrix that stores Cohen's h values quantifying
the discrepancy between CAI computed for the reference group and the
expected CAI computed for the focal group if it matched the
distribution of the reference group (Efocal), under PFI for subsets of
items.}
\item{delta h CAI Ref-EF (deletion)}{A matrix that stores delta h
values quantifying the impact of deleting an item on the discrepancy
between CAI of reference vs. Efocal groups under PFI.}
\item{h CAI SFI-PFI}{A list containing two items, \code{ref} and \code{foc}
which are matrices storing Cohen's h values quantifying the
discrepancy between CAI under SFI vs. PFI for the reference group and
the focal group respectively, for subsets of items.}
\item{delta h SFI-PFI (deletion)}{A list containing two items,
\code{ref} and \code{foc} which are matrices storing delta h values quantifying
the impact of deleting an item on the discrepancy between CAI under
SFI vs. PFI for the reference group and the focal group respectively,
for subsets of items.}
\item{PartInv by groups}{Two lists (\code{reference} and \code{focal}), each
containing restructured tables of PartInv outputs by invariance
condition, and corresponding Cohen's h values for each item deletion
scenario.}
\item{PartInv}{Two lists (\code{strict} and \code{partial}), each containing
PartInv() outputs.}
\item{formatted}{Logical, whether simplified and formatted output
should be printed.}
\item{return_items}{A vector containing the items that will be considered
for deletion.}
}
\description{
\code{item_deletion_h} computes effect size indices that quantify the impact
of (and changes in the impact of) measurement bias on classification accuracy
indices (CAI) such as TP and SE if an item is dropped vs. included in analyses.
Comparisons are made between CAI computed for the reference group and
expected CAI computed for the focal group; between CAI computed under strict
factorial invariance (SFI) vs. CAI computed under partial factorial
invariance (PFI); and between aggregate CAI computed for item subsets.
}
\examples{
# Multidimensional example
lambda_matrix <- matrix(0, nrow = 5, ncol = 2)
lambda_matrix[1:2, 1] <- c(.322, .655)
lambda_matrix[3:5, 2] <- c(.398, .745, .543)

multi_dim <- item_deletion_h(propsel = .05, n_dim = 5,
                             weights_item = c(1/4, 1/4, 1/6, 1/6, 1/6),
                             weights_latent = c(0.5, 0.5),
                             alpha_r = c(0, 0),
                             alpha_f = c(-0.3, 0.1),
                             psi_r = matrix(c(1, 0.5, 0.5, 1), nrow = 2),
                             lambda_r = lambda_matrix,
                             nu_r = c(.225, .025, .010, .240, .125),
                             nu_f = c(.225, -.05, .240, -.025, .125),
                             Theta_r = diag(1, 5),
                             Theta_f = diag(c(1, .95, .80, .75, 1)),
                             plot_contour = TRUE,
                             print_formatted = TRUE)
# Single dimension example
single_dim <- item_deletion_h(propsel = .10,
                               weights_item = c(1, 0.9, 0.8, 1),
                               weights_latent = 0.9,
                               alpha_r = 0.5,
                               alpha_f = 0,
                               psi_r = 1,
                               lambda_r = c(.3, .5, .9, .7),
                               nu_r = c(.225, .025, .010, .240),
                               nu_f = c(.225, -.05, .240, -.025),
                               Theta_r = diag(.96, 4),
                               n_dim = 1, plot_contour = TRUE,
                               print_formatted = TRUE)
}
