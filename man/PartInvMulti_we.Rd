% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/PartInv.R
\name{PartInvMulti_we}
\alias{PartInvMulti_we}
\alias{PartInv}
\title{Evaluating selection accuracy based on the MCAA Framework}
\usage{
PartInvMulti_we(
  propsel = NULL,
  cut_z = NULL,
  weights_item = NULL,
  weights_latent = NULL,
  kappa_r = NULL,
  kappa_f = kappa_r,
  alpha_r,
  alpha_f = alpha_r,
  phi_r = NULL,
  phi_f = phi_r,
  psi_r,
  psi_f = psi_r,
  lambda_r,
  lambda_f = lambda_r,
  tau_r = NULL,
  tau_f = tau_r,
  nu_r,
  nu_f = nu_r,
  Theta_r,
  Theta_f = Theta_r,
  pmix_ref = 0.5,
  plot_contour = FALSE,
  show_mi_result = FALSE,
  labels = c("Reference", "Focal"),
  ...
)

PartInv(
  propsel = NULL,
  cut_z = NULL,
  weights_item = NULL,
  weights_latent = NULL,
  kappa_r = NULL,
  kappa_f = kappa_r,
  alpha_r,
  alpha_f = alpha_r,
  phi_r = NULL,
  phi_f = phi_r,
  psi_r,
  psi_f = psi_r,
  lambda_r,
  lambda_f = lambda_r,
  tau_r = NULL,
  tau_f = tau_r,
  nu_r,
  nu_f = nu_r,
  Theta_r,
  Theta_f = Theta_r,
  pmix_ref = 0.5,
  plot_contour = FALSE,
  show_mi_result = FALSE,
  labels = c("Reference", "Focal"),
  ...
)
}
\arguments{
\item{propsel}{Proportion of selection. If missing, computed using \code{cut_z}.}

\item{cut_z}{Pre-specified cutoff score on the observed composite. This
argument is ignored when \code{propsel} has input.}

\item{weights_item}{A vector of item weights.}

\item{weights_latent}{A vector of latent factor weights.}

\item{alpha_r}{A vector of latent factor means for the reference group.}

\item{alpha_f}{(optional) A vector of latent factor means for the focal group;
if no input, set equal to \code{alpha_r}.}

\item{phi_r, phi_f, tau_r, tau_f, kappa_r, kappa_f}{Deprecated; included
only for backward compatibility.}

\item{psi_r}{A matrix of latent factor variance-covariances for the
reference group.}

\item{psi_f}{(optional) A matrix of latent factor variance-covariances for
the focal group; if no input, set equal to \code{psi_r}.}

\item{lambda_r}{A matrix of factor loadings for the reference group.}

\item{lambda_f}{(optional) A matrix of factor loadings for the focal group;
if no input, set equal to \code{lambda_r}.}

\item{nu_r}{A matrix of measurement intercepts for the reference group.}

\item{nu_f}{(optional) A matrix of measurement intercepts for the focal
group; if no input, set equal to \code{nu_r}.}

\item{Theta_r}{A matrix of the unique factor variances and covariances
for the reference group.}

\item{Theta_f}{(optional) A matrix of the unique factor variances and
covariances for the focal group; if no input, set equal to \code{Theta_r}.}

\item{pmix_ref}{Proportion of the reference group; default to 0.5 (i.e., two
populations have equal size).}

\item{plot_contour}{Logical; whether the contour of the two populations
should be plotted; default to \code{TRUE}.}

\item{show_mi_result}{If \code{TRUE}, perform selection accuracy analysis
for both the input parameters and the implied parameters based on a
strict invariance model, with common parameter values as weighted
averages of the input values using \code{pmix_ref}.}

\item{labels}{A character vector with two elements to label the reference
and the focal group on the graph.}

\item{...}{Other arguments passed to the \code{\link[graphics]{contour}}
function.}
}
\value{
The output will be a list of six elements and a plot if
\code{plot_contour == TRUE}:
\item{propsel}{Proportion selected.}
\item{cutpt_xi}{Cut point on the latent scale (xi).}
\item{cutpt_z}{Cut point on the observed scale (Z).}
\item{summary}{A 8 x 3 table, with columns representing the reference,
the focal, and the expected results if the latent distribution of
focal group matches the reference group. The rows represent
probabilities of true positive (A), false positive (B),
true negative (C), false negative (D); proportion selected,
success ratio, sensitivity, and specificity.}
\item{bivardata}{List of length \code{10} containing scalars of
latent and observed means, standard deviations, and covariances
computed for the reference and focal groups.}
\item{ai_ratio}{The AI ratio.}
}
\description{
\code{PartInv, PartInvMulti_we} evaluate partial measurement invariance using
an extension of Millsap & Kwok's (2004) approach
}
\examples{
# Single dimension
PartInv(propsel = .30,
        weights_item = c(1, 1, 1, 1),
        weights_latent = 1,
        alpha_r = 0,
        alpha_f = 0,
        psi_r = 1,
        lambda_r = c(1, 1, 1, 1),
        nu_r = c(1, 1, 1, 2),
        nu_f = c(1, 1, 1, 1),
        Theta_r = diag(1, 4),
        labels = c("Female", "Male"),
        show_mi_result = FALSE)
 res <- PartInv(propsel = .50,
        alpha_r = 0.5,
        alpha_f = 0,
        psi_r = 1,
        lambda_r = c(1, 1, 1, 1),
        nu_r = c(1, 2, 1, 2),
        nu_f = c(1, 1, 1, 1),
        Theta_r = diag(1, 4),
        labels = c("Female", "Male"),
        show_mi_result = TRUE)
# multiple dimensions
lambda_matrix <- matrix(0, nrow = 5, ncol = 2)
lambda_matrix[1:2, 1] <- c(.322, .655)
lambda_matrix[3:5, 2] <- c(.398, .745, .543)
PartInv(propsel = .05,
        weights_latent = c(0.5, 0.5),
        alpha_r = c(0, 0),
        alpha_f = c(-0.3, 0.1),
        psi_r = matrix(c(1, 0.5, 0.5, 1), nrow = 2),
        lambda_r = lambda_matrix,
        nu_r = c(.225, .025, .010, .240, .125),
        nu_f = c(.225, -.05, .240, -.025, .125),
        Theta_r = diag(1, 5),
        Theta_f = c(1, .95, .80, .75, 1))
PartInvMulti_we(propsel = .10,
                weights_item = c(1/3, 1/3, 1/3, 1/3),
                weights_latent = 1,
                alpha_r = 0.5,
                alpha_f = 0,
                psi_r = 1,
                lambda_r = c(.3, .5, .9, .7),
                nu_r = c(.225, .025, .010, .240),
                nu_f = c(.225, -.05, .240, -.025),
                Theta_r = diag(.96, 4),
                labels = c("female", "male"),
                show_mi_result = TRUE)
}
